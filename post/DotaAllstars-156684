发信人: mickey (mickey), 信区: DotaAllstars<br />标  题: 【DisneyLAND】正式发布1.1版<br />发信站: 水木社区 (Mon Jun 16 21:52:14 2008), 站内<br /><br />DisneyLAND v1.1<br /><br />1. 功能简介<br />DisneyLAN Domination，简称DisneyLAND，又名DL，目前最新的版本为1.1 水木清华版，历经几十个内部版本的测试，现在已经比较稳定。<br />DisneyLAND是一个为水木清华dota玩家设计的开源战网软件，有零配置的ip直连和战网功能，项目主页为http://code.google.com/p/disneylan。<br /><br />1.1 下载链接<br />                DisneyLAND下载：<br />                有thu和pku两个版本，外加unlocker下载，供使用黑名单的同学用。<br />                google code：<br />                http://disneylan.googlecode.com/files/DisneyLAND_v1.1_thu.rar<br />                http://disneylan.googlecode.com/files/DisneyLAND_v1.1_pku.rar<br />                我的机器上：<br />                http://59.66.130.143/DisneyLAND_v1_1_thu.rar<br />                http://59.66.130.143/DisneyLAND_v1_1_pku.rar<br />                http://59.66.130.143/unlocker1_8_7.exe<br />                以及本文附件<br />                <br />2. 使用指南<br /><br />2.0 DisneyLAND软件有两种模式，精简和扩展。默认启动为精简模式，包含一个系统信息显示区域，系统设置区域，聊天及id设置区域，以及功能按钮。按下模式切换按钮即可切换为扩展模式，可以看到，在扩展模式下有三个ip列表：在线用户列表，显示了当前使用DisneyLAND的用户，是聊天信息的发送对象；白名单区域为BattleLAN ip列表，添加进白名单区域的用户就如同使用BattleLAN软件一样，唯一不同的是在游戏启动后不需要再喊“关bl”，因为这个版本没有bl的内存泄漏；黑名单区域为banlist，启用之后你将不会再向列入其中的ip发送任何魔兽或者dl聊天信息，注意，此功能仅推荐高级用户使用，在启用黑名单之前你需要有一些windows系统的知识，以面对它可能带来的问题。<br /><br />2.1 窗口控制<br />按下最小化按钮可以最小化到任务栏，按下关闭按钮可以最小化到系统托盘，显示一个图标；如果开启了“新消息闪烁”选项，在任务栏上的DL窗口会闪烁，系统托盘中的DL图标会变成消息图标。此外，按下Ctrl+Alt+D按钮，可以呼出或隐藏DL，请自己实验<br /><br />2.2 系统信息对话框<br />系统信息对话框是DL里最重要的部分，在这个区域会显示聊天信息、游戏信息（包括主机和地图，人数信息，加入自己主机的人和ip信息，gone/cancel信息）、系统信息（包括新加入网络的ip，ip变更等等），均以非常直观的形式显示出来，并显示时间，如果开启了“新消息闪烁”功能，在程序最小化或托盘图标形态的时候还会有提示。如果选择了“保存聊天记录”，会将能看到的信息全部保存在同目录下的DisneyLAND.log文件里。<br /><br />2.3 聊天窗口<br />系统信息框下面，比较长的窗口就是聊天输入框，在这个窗口中输入一些信息，按下回车，就会自动发给在线的用户。注意：发送信息的对象严格的是下面的“在线用户列表”，并只在很大概率上保证收到。较短的窗口是id设置框，可以设置自己聊天时候的id，不设置的话将会以一个弱智的名字出现在大家面前。<br /><br />2.4 看到主机<br />游戏的时候，只需要打开DL，打开魔兽，点击“局域网游戏”，就可以看到“在线用户”和“我的白名单”中ip建的主机，前提是选中了“应用列表”和“启用白名单”复选框，这两个是默认启用的<br /><br />平时在windows桌面下，也可以点击“刷新游戏列表”按钮来查看当前主机信息，和上面一样，也是向选择的ip列表发送查看游戏请求的。<br /><br />2.5 自己建主<br />对于自己建主的同学，如果开着DL，就可以在DL里面看到加入自己主机的同学的ip，当然由于windows socket的问题，可能并不能全部显示出来，但很大概率上是能显示出来的<br /><br />2.6 系统更新<br />如果系统有更新，除非特别说明，一般不覆盖DisneyLAN.ini的话即可保留原先的设置。<br /><br />2.7 关于unlocker.exe<br />unlocker是一个解锁软件，安装后可以删除一些被锁定而无法删除的文件，专为解决使用黑名单用户可能遇到的问题而附带，DisneyLAND本身的运行无需unlocker.exe<br /><br />3. FAQ，Tips<br /><br />3.1 关于零配置<br />零配置意为，没有中心服务器，无需配置即可使用。这意味着大家只需要下载软件并打开，无需设置服务器地址，也不用担心服务器down掉，只要对方也打开了软件，就可以和对方进行游戏。当然，谁也无法做到完全的零配置，像所有的点对点软件一样，DisneyLAND也有一些人员充当bootstrap，每个人启动软件的时候是向某些事先配置好的人进行连接，上线之后就可以自动更新了。配合上下载链接的自动更新，可以说DisneyLAND已经接近了零配置的概念。<br /><br />3.2 我是北大的，可以使用吗？<br />完全可以，此版本加入了uuid机制，一台机器拥有唯一的uuid，除非更换机器，仅更换ip的话不会造成ip库的无用增长<br /><br />3.3 用的时间长了，ip库会越来越大，会不会占用资源？<br />不会，每个人都有120的生命力，和bbs一样，如果你120天没有看见某人，程序会自动把他从你的ip库中清除<br /><br />3.4 这个版本加入了搜索功能，会不会像局域网搜索软件一样，造成网络很卡？<br />应该不会，这个问题我早有考虑，可以做个简单的计算：局域网搜索软件开成自动搜索，每20秒刷新一次，扫描20个ip段的话，每分钟将会发出20x254x3=15240个数据包，而DL则仅在你手动点击"刷新游戏列表"按钮或者点了魔兽的“局域网游戏”按钮的时候，才会向你的在线用户和白名单中的列表发送数据包，这一般不超过1000个，而且你还可以选择不应用列表，不启用白名单<br /><br />3.5 我是高级用户，我想用黑名单<br />好，那么你首先要了解黑名单工作的原理。黑名单采用了windows spi技术，编写了一个dll，并使用了dll的共享数据段功能来设置要屏蔽的ip，由于spi本身的问题，黑名单可能并不是即时生效或失效的，并且还会带来一个问题，当你想删除DL的时候，黑名单的blacklist.dll可能会无法删除，这也是附带的unlocker的用处。要使用黑名单的话，其实也没有什么危险，就和白名单一样，启用，加入，删除，你甚至可以以255为通配符，来封禁一些网段，例如59.66.255.255，但缺点就是不太稳定，有一定概率不会屏蔽，在不启用的时候也有一定概率还在屏蔽。<br /><br />3.6 我还是决定要用黑名单，有什么要注意的吗？<br />有，删除的时候要特别注意，要启动dl，勾掉“启用黑名单”的复选框，这样才会把dll从系统中真正卸载。另外，还有一点要注意，如果点了“启用黑名单”出错的话，如果错误中有重试的字样，可以重试一下。<br /><br />3.7 我是公网或中科院的，可以用吗？<br />中科院的我没有测试过，聊天应该是没问题的，游戏就不知道了。公网用户不推荐使用DL，如果需要组建自己的小型战网的话，可以和我联系。<br /><br />3.8 我想参与开发，可以吗？<br />当然欢迎，项目主页上面已经说了：<br />http://code.google.com/p/disneylan<br />而且还有一个讨论组，可以向我申请加入讨论：<br />http://groups.google.com/group/disneylan<br /><br />3.9 那个白名单的列表那么长，是哪里搞到的？<br />这要归功于最初的TNBLin的bl ip列表，加上命令行界面的鞠躬尽瘁死而后已的DisneyLAN v1.0, v1.01, v1.02等软件的不懈努力，辛辛苦苦的收集到了本版经常建主机的很全很强大的一个列表，使用它，即使你不在线，几乎每次点击“刷新游戏列表”也都能有意外收获。<br /><br />3.10 我还在用命令行的DisneyLAN软件，直接抛弃有问题吗？<br />没有任何问题，欢迎加入DisneyLAND<br /><br />4. 版本历史<br />DisneyLAN是这一系列软件最初的版本，发源于“无中心”的思想，要做一个大家打开就能用的魔兽ip直连软件，这个版本是极其简陋的，但是它的新奇功能，不用任何设置就能看见主机还是吸引了大家的注意力，也给了我许多支持，从而有了现在这个版本的强大的ip列表，在这里谢过啦~<br />DisneyLAND 代表 DisneyLAN Domination，是DisneyLAN的改进版本，代码量超过2500行（比我的毕设还多-_-b），花了1周零零碎碎的时间和更长的测试时间。<br /><br />5. 联系我们<br />有任何问题的话，欢迎给如下的smth id发信：oxygenerator lvn mickey micktj，有什么建议和改进意见也都告诉我们<br />email的话，可以发信给oxygenerator@gmail.com<br /><br />6. 感谢<br />Special thanks for my love Lavender:)<br />感谢各位内测同学的支持：[TNB]AquaElf, [TNB]lin, [TNB]July, [TNB]eaglewatcher, lover, FoxTwj, elu, bityou, 砂之守鹤, Ossa, 真水, 911nidaye, MagicTony<br />[TNB]Lin参与了开发，编写了魔兽网络协议分析的部分，是长期测试者，开发者和铁杆用户。感谢FoxTwj找到的双开bug；bityou的托盘图标建议；lover、FoxTwj和911nidaye的积极讨论；elu的疯狂建主测试-_-b...<br /><br /><br />mickey，2008-6-16<br /><br />--<br /><br />※ 修改:·mickey 于 Jun 17 01:00:41 2008 修改本文·[FROM: 211.99.222.*]<br />※ 来源:·水木社区 newsmth.net·[FROM: 59.66.130.*]